<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <title>5W1Hガチャ</title>
    </head>
    <body>
        <script type="text/javascript">
            // アラートフラグ
            let whenFlag = false;
            let whereFlag = false;
            let whoFlag = false;
            let whatFlag = false;
            let whyFlag = false;
            let howFlag = false;
            // 一回押したら押せなくするためのフラグ
            let whenClickFlag = false;
            let whereClickFlag = false;
            let whoClickFlag = false;
            let whatClickFlag = false;
            let whyClickFlag = false;
            let howClickFlag = false;

            // 文章完成フラグ
            let sentenceCompleteFlag = false;


            // 履歴更新用
            let history = ["", "", ""];
            // いつ
            function whenGacha(){
                // 文章完成していない且つ1回もクリックしていない
                if((whenClickFlag == false) && (sentenceCompleteFlag == false)){
                    whenFlag = true;
                    whenClickFlag = true;       // クリック不可に

                    var whenStr = ["白亜紀","縄文時代", "戦国時代", "江戸時代", "明治時代", "大正時代", "昭和時代", "平成時代", "令和時代",
                                   "2000年前", "1000年前", "100年前", "50年前", "10年後", "10年前の今日", "10年前の夏" ,"10年前の冬" ,
                                   "一昨年", "去年", "去年の夏", "去年の冬", "半年前", "一か月前", "1週間前",
                                   "一昨日の朝", "一昨日の昼" , "一昨日の夜", "一昨日の正午", "昨朝", "昨日の昼", "昨晩", "今朝", "今日の昼", "今晩", "今日の正午",
                                   "明日の朝", "明日の昼", "明日の夜", "明日の正午", "明後日の朝", "明後日の昼", "明後日の夜", "明後日の正午",
                                   "明々後日", "1週間後", "1か月後", "半年後", "来年の夏", "来年の冬", "来年", "再来年",
                                   "10年後の夏", "10年後の冬", "10年後の今日", "10年後", "50年後", "100年後", "1000年後", "2000年後", "1万年後", "地球が滅びた後",
                                   "正月", "節分", "ひな祭り", "エイプリルフール", "端午の節句", "夏休み", "お盆", "運動会の日", "クリスマス", "大晦日",
                                   "大雨の日", "雨の日", "雪が降る日", "大雪の日", "雷鳴も轟く雨の日", "曇りの日", "晴れの日", "雲一つない快晴の日", "霧の日",
                                   "いつか覚えていないあの日", "給料日", "ボーナス日", "過去最高にテンションが上がった日", "過去最低にテンションが下がった日", "疲れた日", "眠い日", "しんどい日",
                                   "朝", "昼", "夕方", "夜", "夜中", "正午", "午前", "午後", "0時", "起床時間", "就寝時間", "朝飯時", "昼飯時", "夕飯時", "深夜飯時"
                    ];
                    console.log(whenStr.length);
                    
                    // ランダム生成
                    var whenRandom = parseInt(Math.random() * 103);
                    // var r = parseInt(Math.random() * 12) + 1;

                    // document.pic.src = "pic" + whenRandom + ".jpg";  //仮画像
                    document.getElementById("whenResult").textContent = whenStr[whenRandom] + "に、";
                }
                else if(whenClickFlag == true){
                    window.alert("このボタンは既に押しています");
                }
                else{
                    window.alert("リセットしてください");
                }
                
                
            }
            // どこで
            function whereGacha(){
                if((whenFlag == true) && (whereClickFlag) == false && (sentenceCompleteFlag == false)){
                    whereFlag = true;
                    whereClickFlag = true;      // クリック不可に
                    var whereStr = ["公園", "体育館", "公民館", "自宅", "玄関", "リビング", "寝室", "和室", "洋室", "キッチン", "トイレ", "バスルーム", "自室", "屋根裏", "物置", "学校", "保健室", "理科室", "コンピューター室", "図書室", "家庭科室", "職員室", "会議室", "視聴覚室", "音楽室", "美術室", "技術室", "プレハブ小屋", "冷蔵庫の中", "冷凍庫の中", "レンジの中", "自転車小屋", "駐車場", "立体駐車場", "地下駐車場", "友達の家", "知らない人の家", "賃貸", "アパート", "マンション", "犬小屋", "檻", "ゲージの中", "ドッグラン", "広場", "平野", "盆地", "三角州", "扇状地", "ド田舎", "田舎", "都会", "大都会", "高層ビル", "交番", "警察署", "囚人部屋", "監獄", "裁判所", "駅","空港", "国会", "皇居",
                                    "病院", "診察室", "手術室", "病室", "消防署", "墓地", "車の中", "電車の中", "飛行機の中", "新幹線の中", "地下鉄の中", "トラックの中", "バスの中", "タクシーの中", "船", "クルーズ船", "リフト", "ロープウェイの中", "ヘリコプターの中", "エレベーターの中", "エスカレーター", "階段", "家の庭", "庭園", "水中", "深海", "プール",
                                    "コンビニ", "スーパー", "家電量販店", "デパート", "書店", "ショッピングモール", "アウトレットモール", "ファッション店", "100円ショップ", "中古ショップ", "ゲームショップ", "カフェ", "ラーメン屋","ファミレス", "フードコート", "レストラン", "焼肉店", "お食事処", "商店街", "八百屋", "屋台", "ホームセンター", "家具屋", "不動産屋",
                                    "ネットカフェ", "猫カフェ", "テレビ局", "会社", "リゾート地", "ホテル", "旅館", "ビル", "祭り", "ゴミ処理場", "ゴミステーション", "ゴミ屋敷", "ドブ", "沼", "毒沼", "クレバス", "大穴", "氷山", "電気椅子",
                                    "バッティングセンター", "ボウリング場","カラオケ", "ゲームセンター", "プリクラの中", "ゲームの世界", "胃の中", "お寺", "神社", "温泉", "銭湯", "僻地", "街外れ", "スラム街", "路地裏", "世界遺産", "国宝", "遊園地", "観覧車", "ジェットコースター", "水族館", "動物園", "ゴルフ場", "球場", "城", "砂漠", "火山", "山", "山頂", "富士山", "エベレスト", "湖", "地底湖", "池", "海","砂浜", "日本海", "太平洋", "瀬戸内海", "オホーツク海", "大西洋", "雪国",
                                    "田んぼ", "ビニールハウスの中", "果樹園", "森林の中", "下水道", "上空", "空中",
                                    "電柱の横", "岬", "灯台", "島", "無人島", "島国", "どこかわからない場所", "禁足地", "トンネル内",
                                    "東京", "新宿", "渋谷", "表参道", "六本木", "銀座", "品川", "お台場", "浅草", "葛飾", "下町", "秋葉原",
                                    "大阪", "横浜", "川崎", "名古屋", "神戸", "京都", "北海道", "稚内", "札幌", "函館", "仙台", "北関東", "千葉", "都", "広島", "福岡", "沖縄", "日本標準時子午線",
                                    "東北地方", "関東地方", "中部地方", "北陸地方", "中央高地", "東海地方", "近畿地方", "関西地方", "中国地方", "山陰", "山陽", "四国地方", "九州地方",
                                    "日本", "中国", "韓国", "台湾", "フィリピン", "シンガポール", "インドネシア", "タイ", "ベトナム", "モンゴル", "ロシア", "インド", "バングラデシュ", "サウジアラビア", "アラブ首長国連邦", "ドバイ", "フランス", "イタリア", "イギリス", "スペイン", "ドイツ", "オランダ", "フィンランド", "ギリシャ", "ポルトガル", "スイス", "オーストリア", "エジプト", "ケニア", "南アフリカ共和国", "アメリカ合衆国", "カナダ", "メキシコ", "ブラジル", "アルゼンチン", "チリ",
                                    "アジア", "ヨーロッパ", "オセアニア", "アフリカ", "北アメリカ", "南アメリカ", "南極", "北極",
                                    "戦場", "現場", "暗闇", "マグマの中", "地下", "井戸の中",
                                    "地獄", "大地獄", "天国", "極楽浄土", "宇宙", "地球", "銀河系", "火星", "太陽", "月", "ブラックホール"
                    ];
                    console.log(whereStr.length);
                    var whereRandom = parseInt(Math.random() * 295);
                    document.getElementById("whereResult").textContent = whereStr[whereRandom] + "で";
                }
                else if((whenFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("いつ(When)ボタンを押してください");
                }
                else if(whereClickFlag == true){
                    window.alert("このボタンは既に押しています");
                }
                else{
                    window.alert("リセットしてください");
                }
            }
            // 誰が
            function whoGacha(){
                if((whenFlag == true) && (whereFlag == true) && (whoClickFlag) == false && (sentenceCompleteFlag == false)){
                    whoFlag = true;
                    whoClickFlag = true;        // クリック不可に
                    var whoStr = ["自分", "赤の他人","友人", "先生", "親", "父親", "母親", "爺さん", "婆さん", "子供", "男の子", "女の子", "青年", "少年" ,"少女", "成人男性", "成人女性", "男性", "女性", "おっさん", "おばさん", "彼氏", "彼女", "妻", "夫", "息子", "娘", "生き別れの兄弟", "いとこ", "はとこ", "兄弟", "姉妹", "腹違いのきょうだい", "元嫁", "元夫", "新郎", "新婦", "新郎新婦", "カップル", "愛人", "家族", "大家族", "親戚", "叔母", "叔父",
                                  "外国人", "アメリカ人", "中国人", "韓国人", "インド人", "フランス人", "ドイツ人", "オランダ人", "イギリス人", "イタリア人", "スペイン人", "ポルトガル人", "スイス人", "カナダ人", "メキシコ人", "ケニア人", "ナイジェリア人", "ブラジル人", 
                                  "幼稚園児", "保育園児", "小学生", "中学生", "高校生", "大学生", "大学院生", "専門学生", "高専生", "短大生", "ニート", "フリーター", "会社員", "アルバイト", "パート", "正社員", "サラリーマン", "公務員", "消防士", "警察官", "教師", "自衛官", "裁判官", "医者", "看護師","保育士", "介護士", "土方", "建築士", "清掃員","配管工","力士", "プロレスラー", "プロ野球選手", "Youtuber", "芸人", "俳優", "歌手", "アイドル", "アナウンサー", "ナレーター", "エンジニア","銀行員", "石油王", "神", "大王", "仏", "仏像", "犯罪者", "死刑囚", "教祖", "先祖",
                                  "織田信長", "豊臣秀吉", "徳川家康", "聖徳太子", "福沢諭吉", "板垣退助", "伊藤博文", "野口英世", "夏目漱石",
                                  "後輩", "先輩", "上司", "社長", "課長", "係長", "部長", "所長", "会長", "知事", "総理", "議員",
                                  "魚", "マグロ", "鮭", "イルカ", "クジラ", "クラゲ", "エイ", "サメ", "シャチ", "カメ", "カエル", "ナマズ",
                                  "犬", "猫", "猿", "ゴリラ", "チンパンジー", "オラウータン", "狼", "狐", "狸", "トラ", "ライオン", "チーター", "ヒョウ", "象", "カバ", "キリン", "ワニ", "シマウマ", "馬", "熊", "豚", "牛", "羊", "ヤギ", "猪", "モグラ", "ネズミ", "ハムスター", "ロボット", "人工知能", "キラーマシン", "ドラゴン", "モンスター", "人面魚", "恐竜",
                                  "鳥", "オウム", "フクロウ", "鷹", "鷲", "鳩", "雀", "クジャク", "ハシビロコウ", "ひばり", "アヒル", "ニワトリ", "ひよこ", "ツバメ",
                                  "雑魚", "敵", "ボス", "ラスボス", "モブ", "脇役", "立役者", "主人公", "パートナー", "ヒーロー", "仲間", "ヒロイン", "宇宙人", "幽霊", "ゾンビ",
                    ];

                    var whoDoStr = ["頭のおかしい", "発狂している", "やさしい", "かわいい", "かっこいい", "イケてる", "品がある", "場違いな", "激昂した", "穏やかな", "意地っ張りな", "見栄っ張りな", "目立ちたがりな", "怒りっぽい", "冷静な", "おっとりした", "クールな", "腕白な", "ずぶとい", "おくびょうな", "怪しい", "何かを企てている", "人相の悪い",
                                    "寝転んでいる", "関節技をかけている", "ナイフを隠し持った", "おどろおどろしい", "禍々しい", "荒々しい", "苦しそうな", "死にかけの", "破壊を繰り返している", "惨たらしい", "楽しそうな", "喜怒哀楽が激しい", "終始笑顔の", "笑顔の", "笑っている", "大爆笑の", "腹筋崩壊している", "涙腺崩壊している", "号泣している", "危険な", "オーラが出ている",
                                    "絶望している", "快楽を得ている", "眠っている", "走っている", "歩いている", "切っている", "泳いでいる", "食べている", "嗅いでいる", "興奮している", "無表情な", "だらしない", "喧嘩っ早い", "裏切り者の", "失神している", "頭に花が咲いている", "巨大な", "小さい", "極小の", "学んでいる", "逃亡している", "進化した", "究極の", "弱弱しい", "何を考えているかわからない",
                                    "病気で苦しんでいる", "空腹の", "酔っぱらっている", "ふらついている", "呂律が回らない", "煙たい", "影が薄い", "みっともない", "馬面の", "いびつな", "イケメンの", "愉快な", "遊んでいる", "奇声を上げている", "パンツ一丁の", "痙攣している", ""
                    ];

                    var whoRandom = parseInt(Math.random() * 212);
                    var whoDoRandom = parseInt(Math.random() * 85);
                    console.log(whoStr.length);
                    console.log(whoDoStr.length);
                    document.getElementById("whoResult").textContent = whoDoStr[whoDoRandom] + whoStr[whoRandom] + "が";
                }
                else if((whenFlag == false) && (whereFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("いつ(When)ボタン、どこで(Where)ボタンを押してください");
                }
                else if((whereFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("どこで(Where)ボタンを押してください");
                }
                else if(whoClickFlag == true){
                    window.alert("このボタンは既に押しています");
                }
                else{
                    window.alert("リセットしてください");
                }
                console.log(whoFlag);
            }
            // 何を
            function whatGacha(){
                if((whenFlag == true) && (whereFlag == true) && (whoFlag == true) && (whatClickFlag) == false && (sentenceCompleteFlag == false)){
                    whatFlag = true;
                    whatClickFlag = true;       // クリック不可に
                    var whatStr = ["魚", "スーパーの商品", "カレー", "パスタ", "オムライス",
                                   "机", "椅子", "ベッド", "ソファ", "本棚", "カーテン", "鏡", "時計", "電球", "カメラ",
                                   "テレビ", "ラジオ", "冷蔵庫", "洗濯機", "掃除機", "電子レンジ", "トースター", "炊飯器", "パソコン", "スマートフォン", "タブレット", "ヘッドホン", "イヤホン", "スピーカー", "ゲーム機", "プリンター", "電卓", "筆記用具", "本", "ノート", "バッグ", "リュックサック", "財布", "傘", "靴", "スニーカー", "ハイヒール", "サンダル", "帽子", "メガネ",
                                   "父", "母", "兄", "姉", "弟", "妹", "祖父", "祖母", "叔父", "叔母", "おっさん", "おばさん", "爺さん", "婆さん", "店主",
                                   "友達", "先生", "医者", "看護師", "警察官", "消防士", "運転手", "店員", "農家", "漁師",
                                   "外国人", "アメリカ人", "中国人", "韓国人", "インド人", "フランス人", "ドイツ人", "オランダ人", "イギリス人", "イタリア人", "スペイン人", "ポルトガル人", "スイス人", "カナダ人", "メキシコ人", "ケニア人", "ナイジェリア人", "ブラジル人", 
                                   "幼稚園児", "保育園児", "小学生", "中学生", "高校生", "大学生", "大学院生", "専門学生", "高専生", "短大生", "ニート", "フリーター", "会社員", "アルバイト", "パート", "正社員", "サラリーマン", "公務員", "消防士", "警察官", "教師", "自衛官", "裁判官", "医者", "看護師","保育士", "介護士", "土方", "建築士", "清掃員","配管工","力士", "プロレスラー", "プロ野球選手", "Youtuber", "芸人", "俳優", "歌手", "アイドル", "アナウンサー", "ナレーター", "エンジニア","銀行員", "石油王", "神", "大王", "仏", "仏像", "犯罪者", "死刑囚", "教祖", "先祖",
                                   "織田信長", "豊臣秀吉", "徳川家康", "聖徳太子", "福沢諭吉", "板垣退助", "伊藤博文", "野口英世", "夏目漱石",
                                   "後輩", "先輩", "上司", "社長", "課長", "係長", "部長", "所長", "会長", "知事", "総理", "議員",
                                   "犬", "猫", "鳥", "うさぎ", "ハムスター", "馬", "牛", "羊", "豚", "ライオン", "ゾウ", "キリン", "トラ", "パンダ", "クマ", "カンガルー", "ペンギン", "イルカ", "サメ", "クジラ",
                                   "公園", "学校", "図書館", "病院", "スーパー", "コンビニ", "駅", "空港", "デパート", "映画館", 
                                   "カフェ", "レストラン", "居酒屋", "ホテル", "旅館", "動物園", "水族館", "美術館", "博物館", "寺",
                                   "神社", "教会", "海", "山", "湖", "川", "滝", "砂浜", "温泉", "牧場", "筋肉"
                    ];

                    var whatDoStr = ["新しい", "古い", "暑い", "寒い", "涼しい", "熱い", "激しい", "小汚い","柔らかい", "硬い", "軽い", "重い", "広い", "狭い", "大きい", "小さい", "長い", "短い","早い", "遅い", "美しい", "汚い", "若い", "老いた", "薄い", "濃い","恐ろしい","禍々しい",
                                     "かわいい", "珍しい", "かっこ悪い", "危険な", "親しい", "不気味な", "派手な", "地味な", "すばらしい", "醜い", "明るい", "暗い", "華やかしい", "透明度が高い", "爽やかしい", "気持ち悪い", "不気味な", ""
                    ];
                    var whatRandom = parseInt(Math.random() * 212);
                    var whatDoRandom = parseInt(Math.random() * 46);
                    console.log(whatStr.length);
                    console.log(whatDoStr.length);

                    document.getElementById("whatResult").textContent = whatDoStr[whatDoRandom] + whatStr[whatRandom] + "を";
                }
                else if((whenFlag == false) && (whereFlag == false) && (whoFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("いつ(When)ボタン、どこで(Where)ボタン、誰が(Who)ボタンを押してください");
                }
                else if((whereFlag == false) && (whoFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("どこで(Where)ボタン、誰が(Who)ボタンを押してください");
                }
                else if((whoFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("誰が(Who)ボタンを押してください");
                    console.log(whoFlag);
                }
                else if(whatClickFlag == true){
                    window.alert("このボタンは既に押しています");
                }
                else{
                    window.alert("リセットしてください");
                }
            }

            // 何故
            function whyGacha(){
                if((whenFlag == true) && (whereFlag == true) && (whoFlag == true) && (whatFlag == true) && (whyClickFlag) == false && (sentenceCompleteFlag == false)){
                    whyFlag = true;
                    whyClickFlag = true;
                    var whyStr = ["付ける","買う", "挙げる", "食べる", "弄ぶ", "身に着ける", "回す", "こね繰り上げる", "燃やす", "冷やす", "解凍する", "絞める", "歩く", "生やす", "晒しあげる", "走る", "泳ぐ", "濃くする", "薄くする", "埋める", "掘る", "握る", "離す", "掴む", "ほたえる",
                                  "凝る", "蹴る", "嬲る", "殴る", "殴打する", "下げる", "上げる", "昇る", "降る", "滴る", "ほとばしる", "殺す", "煮えたぎる", "可愛がる", "見る", "聞く", "離す", "話す", "放す", "詰める", "悶える", "うろたえる", "遺棄する", "伏せる", "運動する", "加速する",
                                  "減速する", "侮る", "蔑む", "見下す", "潰す", "操縦する", "砕く", "はたき落とす", "投げつける", "転がす", "叩きつける", "はたく", "喋る", "巻く","盛る", "茹でる", "沸かす", "蒸す", "跳ねる", "飛ぶ", "驚かす", "轟かす", "仰天させる", "結ぶ", "ほどく", "折る", "研ぐ"
                    ];
                    var whyRandom = parseInt(Math.random() * 78);
                    console.log(whyStr.length);
                    document.getElementById("whyResult").textContent = whyStr[whyRandom] + "ために";
                }
                else if((whenFlag == false) && (whereFlag == false) && (whoFlag == false) && (whatFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("いつ(When)ボタン、どこで(Where)ボタン、誰が(Who)ボタン、何を(What)ボタンを押してください");
                }
                else if((whereFlag == false) && (whoFlag == false) && (whatFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("どこで(Where)ボタン、誰が(Who)ボタン、何を(What)ボタンを押してください");
                }
                else if((whoFlag == false) && (whatFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("誰が(Who)ボタン、何を(What)ボタンを押してください");
                }
                else if((whatFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("誰が(What)ボタンを押してください");
                }
                else if(whyClickFlag == true){
                    window.alert("このボタンは既に押しています");
                }
                else{
                    window.alert("リセットしてください");
                }
            }

            // どのように
            function howGacha(){
                if((whenFlag == true) && (whereFlag == true) && (whoFlag == true) && (whatFlag == true) && (whyFlag == true) && (howClickFlag == false) && (sentenceCompleteFlag == false)){
                    howFlag = true;
                    howClickFlag = true;
                    var howStr = ["友人が予約してくれた", "自転車で行った", "万引きした", "轢いた", "願った", "嘲笑った", "怒鳴り上げた", "叫んだ", "症状が切れた", "治った", "修羅場にした", "祈った", "巻いた", "揚げた", "挙げた", "上げた", "下げた", "降った", "昇った", "当てた", "脅した", "盗んだ",
                                  "巻き上げた", "吸わせた", "吸った", "反転させた", "蔑んだ", "侮った", "破壊した", "荒らした", "晒した", "晒された", "沼った", "潰した", "ひっくり返した", "食べた", "植え付けた", "飲んだ", "飛ばした", "消した", "干した", "吸引した", "見つめた", "散らかした", "埋めた", "吹かせた", "イラつかせた",
                                  "回した", "奪った", "読んだ", "痙攣した", "潜り込んだ", "茂った", "老いた", "壊した", "号泣した", "ぐずった", "うめき声をあげた", "雄たけびをあげた", "格好つけた", "踊った", "狂った", "スポーツをした", "泳いだ", "突撃した", "広げた", "狭めた", "料理した", "首絞めた", "禿げた", "太った", "痩せた", "長くなった", "短くなった",
                                  "蹴り上げた", "嫌がらせした", "喚いた", "凍らせた", "燃やした", "ビンタした", "暮らした", "歌った", "放置した", "無視した", "外に出た", "引きこもった", "無口になった", "無表情になった", "笑顔になった", "爆笑した", "腹筋崩壊した", "涙腺崩壊した"
                    ];
                    var howRandom = parseInt(Math.random() * 92);
                    console.log(howStr.length);
                    document.getElementById("howResult").textContent = howStr[howRandom];
                }
                else if((whenFlag == false) && (whereFlag == false) && (whoFlag == false) && (whatFlag == false) && (whyFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("いつ(When)ボタン、どこで(Where)ボタン、誰が(Who)ボタン、何を(What)ボタン、何故(Why)ボタンを押してください");
                }
                else if((whereFlag == false) && (whoFlag == false) && (whatFlag == false) && (whyFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("どこで(Where)ボタン、誰が(Who)ボタン、何を(What)ボタン、何故(Why)ボタンを押してください");
                }
                else if((whoFlag == false) && (whatFlag == false) && (whyFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("誰が(Who)ボタン、何を(What)ボタン、何故(Why)ボタンを押してください");
                }
                else if((whatFlag == false) && (whyFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("何を(What)ボタン、何故(Why)ボタンを押してください");
                }
                else if((whyFlag == false) && (sentenceCompleteFlag == false)){
                    window.alert("何故(Why)ボタンを押してください");
                }
                else if(howClickFlag == true){
                    window.alert("このボタンは既に押しています");
                }
                else{
                    window.alert("リセットしてください");
                }
            }

            // 履歴用結果結合
            function joinText(){
                // 全部のボタンを押したときのみ履歴に残す
                if((whenFlag == true) && (whereFlag == true) && (whoFlag == true) && (whatFlag == true) && (whyFlag == true) && (howFlag == true) && (sentenceCompleteFlag == false)){
                    sentenceCompleteFlag = true;
                    var whenText = document.getElementById("whenResult").textContent;
                    var whereText = document.getElementById("whereResult").textContent;
                    var whoText = document.getElementById("whoResult").textContent;
                    var whatText = document.getElementById("whatResult").textContent;
                    var whyText = document.getElementById("whyResult").textContent;
                    var howText = document.getElementById("howResult").textContent;

                    var joinText = whenText + whereText + whoText + whatText + whyText + howText;
                    console.log(joinText);
                    // document.getElementById("joinTextResult").textContent = joinText;
                    updateHistory(joinText);
                }

            }

            // 履歴更新用
            function updateHistory(newJoinText){

                this.newJoinText = newJoinText;
                // 入替
                history[2] = history[1];
                history[1] = history[0];
                history[0] = newJoinText;

                document.getElementById("nowJoinTextResult").textContent = history[0];
                document.getElementById("prevJoinTextResult").textContent = history[1];
                document.getElementById("secondPrevjoinTextResult").textContent = history[2];

                // 全フラグリセット
                resetFlag();
                
            }

            function resetText(){
                sentenceCompleteFlag = false;
                document.getElementById("whenResult").textContent = "";
                document.getElementById("whereResult").textContent = "";
                document.getElementById("whoResult").textContent = "";
                document.getElementById("whatResult").textContent = "";
                document.getElementById("whyResult").textContent = "";
                document.getElementById("howResult").textContent = "";

                resetFlag();
            }
        
            // クリップボードにコピー処理
            function copyButton(elementId) {
                // 指定したIDの要素のテキストを取得
                var element = document.getElementById(elementId);
                console.log(element);
                // クリップボードにコピー
                navigator.clipboard.writeText(element.textContent);
                window.alert("クリップボードにコピーしました！")
            }

            function resetFlag(){
                // 全ボタンフラグリセット
                whenFlag = false;
                whereFlag = false;
                whoFlag = false;
                whatFlag = false;
                whyFlag = false;
                howFlag = false;

                // クリック判定フラグリセット
                whenClickFlag = false;
                whereClickFlag = false;
                whoClickFlag = false;
                whatClickFlag = false;
                whyClickFlag = false;
                howClickFlag = false;
            }


        </script>
        <h1>5W1Hガチャ</h1>
        <div class="main-contents">
            <div class="button-container">
                <div class="button-row">
                    <!-- <img src="pic1.jpg" name="pic"> -->
                    <div class="button01">
                        <input type="button" value="いつ(When)" onclick="whenGacha()"/>
                    </div>
                    <div class="button02">
                        <input type="button" value="どこで(Where)" onclick="whereGacha()"/>
                    </div>
                    <div class="button03">
                        <input type="button" value="誰が(Who)" onclick="whoGacha()"/>
                    </div>
                    <div class="button04">
                        <input type="button" value="何を(What)" onclick="whatGacha()"/>
                    </div>
                    <div class="button05">
                        <input type="button" value="何故(Why)" onclick="whyGacha()"/>
                    </div>
                    <div class="button06">
                        <input type="button" value="どのように(How)" onclick="howGacha(),joinText()"/>
                    </div>
                </div>
                <div class="button07">
                    <input type="button" value="リセット" onclick="resetText()"/>
                </div>
            </div>
            
            
            <!-- ボタンを押したときの各出力 -->
            <div class="result-contents">
                <h3><div id="whenResult"></div></h3>
                <h3><div id="whereResult"></div></h3>
                <h3><div id="whoResult"></div></h3>
                <h3><div id="whatResult"></div></h3>
                <h3><div id="whyResult"></div></h3>
                <h3><div id="howResult"></div></h3>
            </div>
            
            <h2>直近の履歴</h2>
            <table class="history-table">
                <tr>
                    <td class="history-td" colspan="4">履歴</td>
                </tr>
                <tr>
                    <th class="history-th" colspan="1">今回</th>
                    <th class="history-th" colspan="2"><span id="nowJoinTextResult"></span></th>
                    <!-- コピーボタン -->
                    <th class="history-th">
                        <button class="copy-button" onclick="copyButton('nowJoinTextResult')">コピー</button>
                    </th>
                </tr>
                <tr>
                    <th class="history-th">前回</th>
                    <th class="history-th" colspan="2"><span id="prevJoinTextResult"></span></th>
                    <!-- コピーボタン -->
                    <th class="history-th">
                        <button class="copy-button" onclick="copyButton('prevJoinTextResult')">コピー</button>
                    </th>
                </tr>
                <tr>
                    <th class="history-th">前々回</th>
                    <th class="history-th" colspan="2"><span id="secondPrevjoinTextResult"></span></th>
                    <!-- コピーボタン -->
                    <th class="history-th">
                        <button class="copy-button" onclick="copyButton('secondPrevjoinTextResult')">コピー</button>
                    </th>
                </tr>
                
            </table>
        </div>
    </body>
</html>
